# web问题汇总

## 网页问题

## 遇到的一些问题

1. `input`设置`border-radius`后，左上边框明显变深
    + 原因:**`input`的`border-style`的默认样式被设置为`inset`，该样式的值显示比较特殊，因此会出现以上现象**
    + 详情参考[MDN文档](https://developer.mozilla.org/zh-CN/docs/Web/CSS/border-style)
2. 给元素设置`flex`、`flex-grow`和`flex-shrink`时，无法设置，浏览器提示与父元素的`display:block;`样式冲突
    + 原因:大概率是因为该样式设置的对象不对，该样式**需要设置在伸缩项目上，而并非伸缩容器上**


# 报错汇总

## 代码报错

+ 前端出错，尤其是跟npm相关的错误，需要先检查node版本是否正确

|分类|子分类|报错详情|报错原因|解决方案|备注|
|:---:|:---:|:---:|:---:|:---:|:---:|
|**原生JS**|待定|
|**Ant Design**|表格|rawData.some is not a function|向表格的dataSource属性传入的值不是一个数组|传一个数组进去|无|
|^|表单|Warning: [antd: Form.Item] `defaultValue` will not work on controlled Field. You should use `initialValues` of Form instead.|如果在Form标签内设置输入项的默认值，应该使用Form标签的initialValues而不是详细组件的defaultValue,因为这样会使组件失控|使用Form的initialValues属性|无|
|**React-Router**|路由表|Absolute route path "xxx" nested under path "yyy" is not valid. An absolute child route path must start with the combined path of all its parent routes.|如果子路由匹配的路径是静态的(就是写死了的)，需要把它的父组件匹配的路由也带上|把父组件匹配的路由也带上，比如父组件相匹配的是'/test',子组件要匹配'/a'，那么子组件匹配的需要是'/test/a'|无|
|^|其它|Converting circular structure to JSON  --> starting at object with constructor 'HTMLSpanElement'\| property '__reactFiber$geyojxq8oh7' -> object with constructor 'FiberNode' --- property 'stateNode' closes the circle|对象中存在循环依赖，如a.b=a|把循环依赖解决掉|无|
|**sass**|略|Error: ENOENT: no such file or directory, scandir '…/node_modules/node-sass/vendor'|找不到它输出的这个玩意|运行`npm rebuild node-sass`|无|
|**Electron**|>|通用|请注意，electron默认使用的是CommonJS的格式进行代码的编写，而并非Module的模式进行编写，因此会导致其官网给出的`main.js`示例以及打包时的`forge.config.js`代码格式使用的是require的方式而不是import ...from ...的方式，且暴露对象时也是用的是module.exports而不是export default的方式|把这些代码使用Module代码风格替代|无|
|^|^|出现路径问题导致有些静态资源加载不出来|如果直接使用绝对路径，也就是`/`开头，electron程序会直接去此盘根目录寻找，但是前端项目在打包时，其`/`一般都表示其项目的根目录，导致冲突|对于vite项目，解决该问题的方案是在`vite.config.js`中指定`base`属性，配置项详见[Vue笔记](./Vue.md)|无|
|^|启动时报错|`electron Unable to find Electron app at xxx`|未在`package.json`文件中配置main项，导致electron找不到启动的js文件|补上|无|
|^|项目打包|`Authors is required`|`package.json`文件中没有配置Author|配置一下|无|
|**electron-builder**|项目打包|`Description is required`|`package.json`文件中没有配置description|配置一下|无|
|^|^|`Error: Application entry file "main.js" in the "xxx" does not exist. Seems like a wrong configuration.`|`build.files`文件没有配置正确，一般情况下是配置少了重要打包项|把文件加到`build.files`中去|无|
|^|^|`cannot execute  cause=exit status 2 out=....`|貌似是因为普通命令行权限不够导致执行失败|使用管理员运行powerShell或cmd执行构建命令|无|

---

## 路径问题

### （一）前端相对路径

+ 浏览器在读取相对路径时，会把当前资源所在路径的目录和要请求的相对路径合在一起，并将该路径添加到请求头内，来向服务器请求该路径的资源

~~~html
  <img src="../../a.jpg">

    <!-- 假设当前资源的URL为 http://localhost:8080/test/aa.html  -->
    <!-- 那么该资源当前的目录为 http://localhost:8080/test -->
    <!-- 由于其相对路径为 ../../a.jpg,其中每个 ../ 都会使当前目录回退到上一目录，直到回退到端口号无法回退，此时即使还有 ../ 也不再回退，而是直接无视掉该符号 -->
    <!-- 第一个 ../ 会使目录变为: http://localhost:8080 -->
    <!-- 第二个 ../ ，由于已经回退到了8080端口，不再回退，便直接无视掉该符号 -->
    <!-- 因此最后浏览器向服务器请求的资源路径为 http://localhost:8080/a.jpg -->

~~~

+ 但相对路径只根据磁盘进行判断是不可靠的，因为**可能会受到后端请求转发的影响**

~~~html

  <form action="Servlet1">...</form>

  <!-- 假设当前资源的URL为 http://localhost:8080/test/aa.html  -->
  <!-- form表单向Servlet1请求，在Servlet1进行了请求转发，转发到了WEB-INF目录下的bb.html下，因此bb.html会在响应体内被返回给浏览器 -->
  <!-- 而bb.html下有一张图片 <img src="../../a.jpg"> ，以bb.html为中心，该图片的路径应该在WEB-INF的上一级目录下 -->
  <!-- 但请求转发时，浏览器的URL是 http://localhost:8080/test/Servlet1，因为请求转发时是后端的事，前端URL不会变化 -->
  <!-- 因此此时浏览器收到了bb.html文件，但其地址栏不会发生变化，因此它向客户端请求的图片路径为 http://localhost:8080/a.jpg，这显然不对 -->

~~~

### （二）前端绝对路径

+ 浏览器可以通过读取绝对路径来避免相对路径的问题，因为绝对路径不会受到当前资源所在位置的影响，但绝对路径包括了项目的上下文路径，它可能会发生变化
  + 绝对路径要在前面加上`/`
  + 可以通过`head`标签内的`base`标签的`src`属性，来定义所有路径的**公共前缀**，该前缀会在浏览器请求资源时**自动插入到其它标签定义的相对路径之前，但对绝对路径无效**.
  + 虽然这种方式可以避免每次项目重命名时大量修改路径，但每次项目更名时依然要更改`base`中的属性

~~~html

<head>
  <base src="/test/">  
</head>
<body>
  <img src="static/a.img"  />
</body>

  <!-- 
    假设当前资源的URL为 http://localhost:8080/test/aa.html
    此时这个img读取的文件的相对路径实际上是: /test/static/a.img
    因此此时请求的路径为 http://localhost:8080/test/static/a.img
  -->

~~~

---

# IDE问题

## 一、 VSCode使用

### （一）内置快捷键

|快捷键|作用|备注|
|:---:|:---:|:---:|
|`ctrl+/`|单行注释|无|
|`alt+shift+a`|多行注释|无|
|`ctrl+shift+o`|选择大纲|无|
|`ctrl+shift+l`|一次性全部选中与当前选中项相同的字段|无|
|`alt+shift+p`|打开命令符|无|
|`ctrl+f`|搜索与替换|无|
|`alt+shift+f`|格式化整个文档|无|
|`alt+z`|自动换行|无|
|长按`Shift`+键盘方向键|选中光标划过的的文本|无|
|`Ctrl+Shift+k`|删除光标或选中区域的所在行|无|
|`Ctrl+回车`|在不改变当前光标所在的文本格式的情况下另起一行|无|
|`Alt+Shift+↑/↓`|将选中区域或光标所在行向上/下复制粘贴一份|无|
|`Alt+↑/↓`|使相邻两行的代码交换位置|无|
|`Ctrl+[`|向左缩进|无|
|长按`Alt`+点击鼠标|连续选中多个想修改的行的地方|按`Alt+↑/↓`使这些光标整体向上/下移动|
|`lorem`+数字|随机生成指定单词数量的句子|不写数字会随机生成句子|

---

### （二）代码技巧

1. 在想要折叠的代码头部写`#region`，然后在尾部写`#endregion`，此代码块便可以全部折叠

---

### （三）插件

#### <一>markdown preview enhanced
1. (Ctrl+k)+v在侧边栏打开markdown preview enhanced插件的对md文件预览 
2. Ctrl+Shift+v打开一个新页，预览markdown preview enhanced插件的对md文件
3. markdown preview enhanced插件的`>`用来合并表格的列、`^`用来合并表格的行,具体样例为
   + ~~~markdown
        |属性|属性|属性|
        |---|---|---|
        |具体值|>|具体值|
        |具体值|具体值|具体值|
        |^|具体值|具体值|
     ~~~

---

#### <二>Live Server

1. 使用Live Server启动的浏览器，在源代码修改后，网页内容会同步修改
2. Live Server会调用本地的服务器，将网页内容存入服务器后以服务器路径打开网页
3. Live Server必须要在VSCode打开文件夹的前提下且目标网页源代码符合规范才可以使用网页自动刷新功能
4. Live Server可以检查出HTML文件解码乱码的情况，并在使用Live Server打开浏览器时更正这一错误
5. Live Server并不支持使用绝对路径，因此在打开Live Server的前提下打开浏览器并使用绝对路径时打开文件可能会打不开

---

### （四）自定义配置

#### <一>配置项

+ 自定义的全局配置文件在`C:\Users\19285\AppData\Roaming\Code\User\settings.json`
+ 项目的单体配置文件在根目录下的`.vscode\settings.json`文件下

---

#### <二>自定义代码片段

+ 点击`设置`->`Snippets`->`新建全局代码片段`->输入文件名
+ 在打开的文件中按照格式写，比如:

~~~json
// key为输入提示右侧的提示文字
"快速生成jsx函数式组件":{
    "scope": "javascriptreact",  // scope是作用域，jsx要写javascriptreact
		"prefix": "jsx",  // prefix就表示要写的代码片段简写，此处输入jsx再回车就会生成指定代码片段
    // body用于表示详细的代码片段，使用 $x 来确定鼠标光标的停留位置顺序，写完一个以后按Tab到达下一个片段的停留位置
    // 这是一个数组，每个元素都按\n分割，这样可以实现多行代码片段的实现
		"body": [
			"export const $1 = (props) =>{",
			"    $2",
			"};"
		],
		"description": "快速生成jsx函数式组件"  // 描述信息
}
~~~

---